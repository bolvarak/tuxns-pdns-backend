///////////////////////////////////////////////////////////////////////////////
/// Definitions //////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////

#ifndef TUXNS_LISTENER_H
#define TUXNS_LISTENER_H

///////////////////////////////////////////////////////////////////////////////
/// Headers //////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////

#include "QtCore/QDebug"
#include "QtCore/QObject"
#include "QtNetwork/QAbstractSocket"
#include "QtNetwork/QLocalServer"
#include "QtNetwork/QLocalSocket"
#include "Log.hpp"
#include "Connection.hpp"

///////////////////////////////////////////////////////////////////////////////
/// TuxNS Namespace //////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////

namespace TuxNS
{
	///////////////////////////////////////////////////////////////////////////
	/// TuxNS::Listener Class Definition /////////////////////////////////////
	/////////////////////////////////////////////////////////////////////////

	class Listener : public QLocalServer
	{
		///////////////////////////////////////////////////////////////////////
		/// QObject Classification ///////////////////////////////////////////
		/////////////////////////////////////////////////////////////////////

		Q_OBJECT

		///////////////////////////////////////////////////////////////////////
		/// Protected Methods & Properties ///////////////////////////////////
		/////////////////////////////////////////////////////////////////////

		protected:



		///////////////////////////////////////////////////////////////////////
		/// Public Methods & Properties //////////////////////////////////////
		/////////////////////////////////////////////////////////////////////

		public:

			///////////////////////////////////////////////////////////////////
			/// Constructor //////////////////////////////////////////////////
			/////////////////////////////////////////////////////////////////

			/**
			 * @paragraph This method instantiates the class with defaults
			 * @brief TuxNS::Listener::Listener()
			 * @param QObject* objParent
			 */
			explicit Listener(QObject* objParent = 0);

			///////////////////////////////////////////////////////////////////
			/// Methods //////////////////////////////////////////////////////
			/////////////////////////////////////////////////////////////////

			/**
			 * @paragraph This method tells the server to await connections
			 * @brief TuxNS::Listener::await()
			 * @return void
			 */
			void await();

		///////////////////////////////////////////////////////////////////////
		/// Public Slots /////////////////////////////////////////////////////
		/////////////////////////////////////////////////////////////////////

		public slots:

			/**
			 * @paragraph This slot handles a new connection
			 * @brief TuxNS::Listener::client()
			 * @return void
			 */
			void client();

	///////////////////////////////////////////////////////////////////////////
	}; // End TuxNS::Listener Class Definition ///////////////////////////////
	/////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
} // End TuxNS Namespace /////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////////////////////////
#endif // End Definitions ////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////
